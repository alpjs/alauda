{"version":3,"sources":["../src/js-app.js"],"names":[],"mappings":";;;;;;;AACA;;;;;;;wBACS,E;;;QAEO,U,GAAA,U;QAIA,I,GAAA,I;;;;;EAJT,SAAS,UAAT,CAAoB,GAApB,EAAyB,MAAzB,EAAiC;AACpC,WAAO,IAAI,UAAJ,CAAe,GAAf,KAAuB,IAAI,QAAJ,CAAa,GAAb,CAAvB,IAA6C,UAAU,OAAO,YAAP,CAAoB,QAApB,CAA9D;AACH;;;;EAEM,SAAS,IAAT,GAAgB;AACnB,aAAS,gBAAT,CAA0B,OAA1B,EAAmC,iBAAS;AACxC,YAAI,MAAM,OAAN,IAAiB,MAAM,OAA3B,EAAoC;AAChC;AACH;;AAED,YAAI,UAAU,QAAd;AACA,YAAI,gBAAgB,MAAM,MAA1B;;AAEA,eAAO,kBAAkB,OAAzB,EAAkC,gBAAgB,cAAc,UAAd,IAA4B,OAA9E,EAAuF;;AAEnF,gBAAI,cAAc,QAAd,KAA2B,IAA/B,EAAqC;AACjC;AACH;;AAED,gBAAI,CAAC,cAAc,OAAd,CAAsB,qBAAtB,CAAL,EAAmD;AAC/C;AACH;;AAED,gBAAI,MAAM,cAAc,YAAd,CAA2B,MAA3B,KAAsC,cAAc,YAAd,CAA2B,WAA3B,CAAhD;AACA,gBAAI,WAAW,GAAX,EAAgB,aAAhB,CAAJ,EAAoC;AAChC;AACH;;AAED,kBAAM,cAAN;AACA,kBAAM,eAAN;;AAEA,gBAAI,iBAAiB,cAAc,YAAd,CAA2B,sBAA3B,CAArB;AACA,gBAAI,kBAAkB,CAAC,OAAO,OAAP,CAAe,cAAf,CAAvB,EAAuD;AACnD,uBAAO,KAAP;AACH;;AAED,gBAAI,mBAAK,MAAL,EAAa,GAAb,MAAsB,KAA1B,EAAiC;AAC7B,sBAAM,IAAI,KAAJ,CAAU,iCAAV,CAAN;AACH;;AAED,mBAAO,KAAP;AACH;AACJ,KArCD,EAqCG,KArCH;;AAuCA,QAAI,CAAC,qBAAL,EAAqB;;AAEjB;AACA,eAAO,IAAP;AACH;AACJ","file":"js-app.js","sourcesContent":["/* eslint no-alert: 0 */\nimport { start as startHistory, loadUrl, emit } from './history';\nexport { on } from './history';\n\nexport function ignoreLink(url, target) {\n    return url.startsWith('#') || url.includes(':') || (target && target.getAttribute('target'));\n}\n\nexport function init() {\n    document.addEventListener('click', event => {\n        if (event.ctrlKey || event.metaKey) {\n            return;\n        }\n\n        let element = document;\n        let currentTarget = event.target;\n\n        for (; currentTarget !== element; currentTarget = currentTarget.parentNode || element) {\n            // Don't process clicks on disabled elements\n            if (currentTarget.disabled === true) {\n                continue;\n            }\n\n            if (!currentTarget.matches('a[href],[data-href]')) {\n                continue;\n            }\n\n            let url = currentTarget.getAttribute('href') || currentTarget.getAttribute('data-href');\n            if (ignoreLink(url, currentTarget)) {\n                return;\n            }\n\n            event.preventDefault();\n            event.stopPropagation();\n\n            let confirmMessage = currentTarget.getAttribute('data-confirm-message');\n            if (confirmMessage && !window.confirm(confirmMessage)) {\n                return false;\n            }\n\n            if (emit('load', url) === false) {\n                throw new Error('Missing listener for load event');\n            }\n\n            return false;\n        }\n    }, false);\n\n    if (!startHistory()) {\n        // On older browsers, if the hash is different that the url, loads the new page according to the hash\n        loadUrl();\n        return true;\n    }\n}\n"]}