{"version":3,"sources":["../src/js-app.js"],"names":[],"mappings":";;;;;;;;;;;;;;wBAES;;;QAEO;QAIA;;;;;EAJT,SAAS,UAAT,CAAoB,GAApB,EAAyB,MAAzB,EAAiC;AACpC,WAAO,IAAI,UAAJ,CAAe,GAAf,KAAuB,IAAI,QAAJ,CAAa,GAAb,CAAvB,IAA6C,UAAU,OAAO,YAAP,CAAoB,QAApB,CAAV,CADhB;CAAjC;;;;EAIA,SAAS,IAAT,GAAgB;AACnB,aAAS,gBAAT,CAA0B,OAA1B,EAAmC,iBAAS;AACxC,YAAI,MAAM,OAAN,IAAiB,MAAM,OAAN,EAAe;AAChC,mBADgC;SAApC;;AAIA,YAAI,UAAU,QAAV,CALoC;AAMxC,YAAI,gBAAgB,MAAM,MAAN,CANoB;;AAQxC,eAAO,kBAAkB,OAAlB,EAA2B,gBAAgB,cAAc,UAAd,IAA4B,OAA5B,EAAqC;;AAEnF,gBAAI,cAAc,QAAd,KAA2B,IAA3B,EAAiC;AACjC,yBADiC;aAArC;;AAIA,gBAAI,CAAC,cAAc,OAAd,CAAsB,qBAAtB,CAAD,EAA+C;AAC/C,yBAD+C;aAAnD;;AAIA,gBAAI,MAAM,cAAc,YAAd,CAA2B,MAA3B,KAAsC,cAAc,YAAd,CAA2B,WAA3B,CAAtC,CAVyE;AAWnF,gBAAI,WAAW,GAAX,EAAgB,aAAhB,CAAJ,EAAoC;AAChC,uBADgC;aAApC;;AAIA,kBAAM,cAAN,GAfmF;AAgBnF,kBAAM,eAAN,GAhBmF;;AAkBnF,gBAAI,iBAAiB,cAAc,YAAd,CAA2B,sBAA3B,CAAjB,CAlB+E;AAmBnF,gBAAI,kBAAkB,CAAC,OAAO,OAAP,CAAe,cAAf,CAAD,EAAiC;AACnD,uBAAO,KAAP,CADmD;aAAvD;;AAIA,gBAAI,mBAAK,MAAL,EAAa,GAAb,MAAsB,KAAtB,EAA6B;AAC7B,sBAAM,IAAI,KAAJ,CAAU,iCAAV,CAAN,CAD6B;aAAjC;;AAIA,mBAAO,KAAP,CA3BmF;SAAvF;KAR+B,EAqChC,KArCH,EADmB;;AAwCnB,QAAI,CAAC,qBAAD,EAAiB;;AAEjB,gCAFiB;AAGjB,eAAO,IAAP,CAHiB;KAArB;CAxCG","file":"js-app.js","sourcesContent":["/* eslint no-alert: 0 */\nimport { start as startHistory, loadUrl, emit } from './history';\nexport { on } from './history';\n\nexport function ignoreLink(url, target) {\n    return url.startsWith('#') || url.includes(':') || (target && target.getAttribute('target'));\n}\n\nexport function init() {\n    document.addEventListener('click', event => {\n        if (event.ctrlKey || event.metaKey) {\n            return;\n        }\n\n        let element = document;\n        let currentTarget = event.target;\n\n        for (; currentTarget !== element; currentTarget = currentTarget.parentNode || element) {\n            // Don't process clicks on disabled elements\n            if (currentTarget.disabled === true) {\n                continue;\n            }\n\n            if (!currentTarget.matches('a[href],[data-href]')) {\n                continue;\n            }\n\n            let url = currentTarget.getAttribute('href') || currentTarget.getAttribute('data-href');\n            if (ignoreLink(url, currentTarget)) {\n                return;\n            }\n\n            event.preventDefault();\n            event.stopPropagation();\n\n            let confirmMessage = currentTarget.getAttribute('data-confirm-message');\n            if (confirmMessage && !window.confirm(confirmMessage)) {\n                return false;\n            }\n\n            if (emit('load', url) === false) {\n                throw new Error('Missing listener for load event');\n            }\n\n            return false;\n        }\n    }, false);\n\n    if (!startHistory()) {\n        // On older browsers, if the hash is different that the url, loads the new page according to the hash\n        loadUrl();\n        return true;\n    }\n}\n"]}