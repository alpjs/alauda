{"version":3,"sources":["../src/js-app.js"],"names":[],"mappings":"AAAA;AACA;AACA,SAAS,SAAS,YAAlB,EAAgC,WAAhC,EAA6C,IAA7C,QAAyD,WAAzD;;AAEA,OAAO,SAAS,SAAT,CAAmB,GAAnB,EAAwB,MAAxB,EAAgC;AACnC,WAAO,IAAI,UAAJ,CAAe,GAAf,KAAuB,IAAI,QAAJ,CAAa,GAAb,CAAvB,IAA6C,UAAU,OAAO,YAAP,CAAoB,QAApB,CAA9D;AACH;;AAED,OAAO,SAAS,IAAT,GAAgB;AACnB,aAAS,gBAAT,CAA0B,OAA1B,EAAmC,SAAS;AACxC,YAAI,MAAM,OAAN,IAAiB,MAAM,OAA3B,EAAoC;AAChC;AACH;;AAED,YAAI,UAAU,QAAd;AACA,YAAI,gBAAgB,MAAM,MAA1B;;AAEA,eAAO,kBAAkB,OAAzB,EAAkC,gBAAgB,cAAc,UAAd,IAA4B,OAA9E,EAAuF;AACnF;AACA,gBAAI,cAAc,QAAd,KAA2B,IAA/B,EAAqC;AACjC;AACH;;AAED,gBAAI,CAAC,cAAc,OAAd,CAAsB,qBAAtB,CAAL,EAAmD;AAC/C;AACH;;AAED,gBAAI,MAAM,cAAc,YAAd,CAA2B,MAA3B,KAAsC,cAAc,YAAd,CAA2B,WAA3B,CAAhD;AACA,gBAAI,UAAU,GAAV,EAAe,aAAf,CAAJ,EAAmC;AAC/B;AACH;;AAED,kBAAM,cAAN;AACA,kBAAM,eAAN;;AAEA,gBAAI,iBAAiB,cAAc,YAAd,CAA2B,sBAA3B,CAArB;AACA,gBAAI,kBAAkB,CAAC,OAAO,OAAP,CAAe,cAAf,CAAvB,EAAuD;AACnD,uBAAO,KAAP;AACH;;AAED,gBAAI,KAAK,UAAL,EAAiB,GAAjB,MAA0B,KAA9B,EAAqC;AACjC,sBAAM,IAAI,KAAJ,CAAU,qCAAV,CAAN;AACH;;AAED,mBAAO,KAAP;AACH;AACJ,KArCD,EAqCG,KArCH;;AAuCA,QAAI,CAAC,cAAL,EAAqB;AACjB;AACA;AACA,eAAO,IAAP;AACH;AACJ","file":"js-app.js","sourcesContent":["/* global window, document */\n/* eslint no-alert: 0 */\nimport { start as startHistory, redirectUrl, emit } from './history';\n\nexport function ignoreUrl(url, target) {\n    return url.startsWith('#') || url.includes(':') || (target && target.getAttribute('target'));\n}\n\nexport function init() {\n    document.addEventListener('click', event => {\n        if (event.ctrlKey || event.metaKey) {\n            return;\n        }\n\n        let element = document;\n        let currentTarget = event.target;\n\n        for (; currentTarget !== element; currentTarget = currentTarget.parentNode || element) {\n            // Don't process clicks on disabled elements\n            if (currentTarget.disabled === true) {\n                continue;\n            }\n\n            if (!currentTarget.matches('a[href],[data-href]')) {\n                continue;\n            }\n\n            let url = currentTarget.getAttribute('href') || currentTarget.getAttribute('data-href');\n            if (ignoreUrl(url, currentTarget)) {\n                return;\n            }\n\n            event.preventDefault();\n            event.stopPropagation();\n\n            let confirmMessage = currentTarget.getAttribute('data-confirm-message');\n            if (confirmMessage && !window.confirm(confirmMessage)) {\n                return false;\n            }\n\n            if (emit('redirect', url) === false) {\n                throw new Error('Missing listener for redirect event');\n            }\n\n            return false;\n        }\n    }, false);\n\n    if (!startHistory()) {\n        // On older browsers, if the hash is different that the url, loads the new page according to the hash\n        redirectUrl();\n        return true;\n    }\n}\n"]}